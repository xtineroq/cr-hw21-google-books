(this["webpackJsonpcr-hw21-google-books"]=this["webpackJsonpcr-hw21-google-books"]||[]).push([[0],{114:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(12),c=a.n(r),l=(a(88),a(37)),i=a(7),s=(a(89),a(17)),m=(a(73),a(143)),u=a(144),d=a(151),p=a(145),f=a(141),g=a(150),h=a(66),b=a.n(h),E=a(67),v=a.n(E);var k=Object(m.a)((function(e){return{root:{width:"100vw"},title:{flexGrow:1,padding:"2rem",fontFamily:"Roboto"},tabText:{fontWeight:500,letterSpacing:"2px"}}}));function w(){var e=k(),t=o.a.useState(0),a=Object(s.a)(t,2),n=a[0],r=a[1];return o.a.createElement("div",{className:e.root},o.a.createElement(u.a,{position:"static",color:"secondary"},o.a.createElement(f.a,{variant:"h4",className:e.title},"Google Books Search App"),o.a.createElement(d.a,{value:n,onChange:function(e,t){r(t)},TabIndicatorProps:{style:{backgroundColor:"black",height:"3px"}},variant:"fullWidth","aria-label":"full width tabs example"},o.a.createElement(p.a,{className:e.tabText,label:"Search",icon:o.a.createElement(b.a,null),component:l.b,to:"/search"}),o.a.createElement(p.a,{className:e.tabText,label:"Saved",icon:o.a.createElement(v.a,null),component:l.b,to:"/saved"}))))}var x=a(51),y=a.n(x),N=a(68),j=a(116),S=a(153),B=a(69),C=a.n(B),O=a(147),I=a(146),T=a(38),W=a.n(T),G=function(){return W.a.get("/api/books")},A=function(e){return W.a.get("https://www.googleapis.com/books/v1/volumes?q="+e)},L=function(e){return W.a.delete("/api/books/"+e)},P=function(e){return W.a.post("/api/books",e)},H=Object(m.a)((function(e){return{root:{flexGrow:1,paddingTop:"3rem",paddingBottom:"3rem"},paper:{margin:"auto",padding:"2px 4px",display:"flex",width:"50vw"},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10,color:"black"}}}));function R(e){var t=e.setResult,a=H(),n=o.a.useState(""),r=Object(s.a)(n,2),c=r[0],l=r[1],i=function(){var e=Object(N.a)(y.a.mark((function e(a){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),""===c){e.next=12;break}return e.prev=2,e.next=5,A(c);case 5:n=e.sent,t(n.data.items),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();return o.a.createElement(I.a,{className:a.root},o.a.createElement(j.a,{component:"form",className:a.paper,noValidate:!0,autoComplete:"off"},o.a.createElement(S.a,{className:a.input,placeholder:"Search Google Books",inputProps:{"aria-label":"search google maps"},type:"search",onChange:function(e){l(e.target.value)}}),o.a.createElement(O.a,{type:"submit",className:a.iconButton,"aria-label":"search",onClick:i},o.a.createElement(C.a,null))))}var _=a(149),q=a(71),J=a.n(q),V=a(70),D=a.n(V),F=a(72),M=a.n(F),$=a(152),z=a(148),K=a(118),Q=Object(m.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",outline:"none",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));var U=function(e){var t=e.children,a=e.onClick,n=Q(),r=o.a.useState(!1),c=Object(s.a)(r,2),l=c[0],i=c[1];return o.a.createElement("div",null,o.a.createElement(O.a,{type:"button",onClick:function(){i(!0),a()}},t),o.a.createElement($.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:n.modal,open:l,onClose:function(){i(!1)},closeAfterTransition:!0,BackdropComponent:z.a,BackdropProps:{timeout:500}},o.a.createElement(K.a,{in:l},o.a.createElement("div",{className:n.paper,style:{backgroundColor:"black"}},o.a.createElement("h2",{id:"transition-modal-title",style:{color:"#f50057"}},"Book Saved!"),o.a.createElement("p",{id:"transition-modal-description",style:{color:"#f50057"}},"View your saved books in the Saved tab.")))))},X=Object(m.a)((function(e){return{root:{flexGrow:1,paddingTop:"1rem",paddingBottom:"1rem"},paper:{padding:e.spacing(2),margin:"auto",maxWidth:"80vw"},image:{width:128,height:128},img:{margin:"auto",display:"block",maxWidth:"100%",maxHeight:"100%"}}}));var Y=function(e){var t=X();return o.a.createElement("div",{className:t.root},o.a.createElement(j.a,{className:t.paper},o.a.createElement(_.a,{container:!0,spacing:2},o.a.createElement(_.a,{item:!0},o.a.createElement(g.a,{className:t.image},o.a.createElement("img",{className:t.img,src:e.image,alt:e.title}))),o.a.createElement(_.a,{item:!0,xs:12,sm:!0,container:!0},o.a.createElement(_.a,{item:!0,xs:!0,container:!0,direction:"column",spacing:2},o.a.createElement(_.a,{item:!0,xs:!0},o.a.createElement(f.a,{align:"left",gutterBottom:!0,variant:"subtitle1"},e.title),o.a.createElement(f.a,{align:"left",variant:"body2",gutterBottom:!0},"Author: ",[e.authors].flat().join(", ")),o.a.createElement(f.a,{align:"left",variant:"body2",color:"textSecondary"},e.description)),o.a.createElement(_.a,{item:!0,xs:!0,align:"left"},o.a.createElement(_.a,{container:!0,direction:"row"},o.a.createElement(_.a,{item:!0},o.a.createElement(O.a,{variant:"body2 outlined",color:"primary",href:e.link,target:"_blank"},o.a.createElement(D.a,{style:{fill:"black"}}))),o.a.createElement(_.a,{item:!0},e.id?o.a.createElement(O.a,{variant:"body2 outlined",color:"secondary",onClick:function(){L(e.id).then((function(t){e.fetchBook()})).catch((function(e){return console.log(e)}))}},o.a.createElement(M.a,null)):o.a.createElement(U,{variant:"body2 outlined",onClick:function(){P({title:e.title,authors:e.authors,description:e.description,image:e.image,link:e.link}).catch((function(e){return console.log(e)}))}},o.a.createElement(J.a,{color:"secondary"}))))))))))};var Z=function(e){var t=e.result,a=o.a.useState([]),n=Object(s.a)(a,2),r=n[0],c=n[1];return o.a.useEffect((function(){t.length>0?c(t):console.log("No search query found")}),[c,t]),o.a.createElement(g.a,null,r.map((function(e){return o.a.createElement(Y,{key:e.id,title:e.volumeInfo.title,authors:e.volumeInfo.authors,description:e.volumeInfo.description,link:e.volumeInfo.infoLink,image:void 0===e.volumeInfo.imageLinks?"https://www.cdgi.com/wp-content/uploads/2019/05/404-Pages.jpg":"".concat(e.volumeInfo.imageLinks.thumbnail)})})))},ee=a(46),te=a.n(ee),ae=Object(m.a)((function(){return{root:{backgroundImage:"url(".concat(te.a,")"),width:"100%",minHeight:"100vh"},search:{margin:"auto"}}}));var ne=function(){var e=ae(),t=o.a.useState([]),a=Object(s.a)(t,2),n=a[0],r=a[1];return o.a.createElement(g.a,{className:e.root},o.a.createElement(R,{className:e.search,setResult:r}),o.a.createElement(Z,{result:n}))},oe=Object(m.a)((function(){return{root:{backgroundImage:"url(".concat(te.a,")"),width:"100%",minHeight:"100vh",paddingTop:"2rem"}}}));var re=function(){var e=oe(),t=o.a.useState([]),a=Object(s.a)(t,2),n=a[0],r=a[1],c=function(){G().then((function(e){r(e.data)})).catch((function(e){return console.log(e)}))};return o.a.useEffect((function(){c()}),[]),o.a.createElement(g.a,{className:e.root},n.map((function(e){return o.a.createElement(Y,{key:e._id,title:e.title,authors:e.authors,description:e.description,link:e.link,image:e.image,id:e._id,fetchBook:c})})))};var ce=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(l.a,null,o.a.createElement(w,null),o.a.createElement(i.c,null,o.a.createElement(i.a,{exact:!0,path:"/"},o.a.createElement(ne,null)),o.a.createElement(i.a,{exact:!0,path:"/search"},o.a.createElement(ne,null)),o.a.createElement(i.a,{exact:!0,path:"/saved"},o.a.createElement(re,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(ce,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},46:function(e,t,a){e.exports=a.p+"static/media/book-bg.bffb92b6.jpg"},83:function(e,t,a){e.exports=a(114)},88:function(e,t,a){},89:function(e,t,a){}},[[83,1,2]]]);
//# sourceMappingURL=main.d7370572.chunk.js.map